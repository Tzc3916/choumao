-- Chmaoè„šæœ¬ä¸­å¿ƒUIï¼ˆæç®€å‡€ç‰ˆï¼Œå«å³ä¸Šè§’ä¼˜é›…Xå…³é—­æŒ‰é’®ï¼‰
local UIS = game:GetService("UserInputService")
local Players = game:GetService("Players")
local LP = Players.LocalPlayer

-- åˆ›å»ºä¸»UI
local Main = Instance.new("ScreenGui")
Main.Name = "ChmaoScriptUI"
Main.ResetOnSpawn = false
Main.Parent = game.CoreGui

-- ä¸»æ¡†æ¶
local Frame = Instance.new("Frame")
Frame.Size = UDim2.new(0, 500, 0, 300)
Frame.Position = UDim2.new(0.5, -250, 0.5, -150)
Frame.BackgroundColor3 = Color3.fromRGB(50, 50, 60)
Frame.BackgroundTransparency = 0.15
Frame.BorderSizePixel = 0
Frame.Active = true
Frame.Visible = false
Frame.Parent = Main

local UICorner = Instance.new("UICorner")
UICorner.CornerRadius = UDim.new(0, 8)
UICorner.Parent = Frame

-- é¡¶éƒ¨æ 
local TopBar = Instance.new("Frame")
TopBar.Size = UDim2.new(1, 0, 0, 32)
TopBar.BackgroundColor3 = Color3.fromRGB(40, 40, 50)
TopBar.BorderSizePixel = 0
TopBar.Parent = Frame

local TopBarCorner = Instance.new("UICorner")
TopBarCorner.CornerRadius = UDim.new(0, 8)
TopBarCorner.Parent = TopBar

-- æ ‡é¢˜æ–‡å­—
local Title = Instance.new("TextLabel")
Title.Size = UDim2.new(0, 200, 1, 0)
Title.Position = UDim2.new(0.5, -100, 0, 0)
Title.Text = "CHUOMAO SCRIPT"
Title.Font = Enum.Font.GothamBold
Title.TextSize = 18
Title.TextColor3 = Color3.fromRGB(200, 200, 255)
Title.BackgroundTransparency = 1
Title.Parent = TopBar

-- å½©è‰²æ¸å˜æ•ˆæœ
coroutine.wrap(function()
    while task.wait(0.05) do
        local t = tick() * 1.5
        Title.TextColor3 = Color3.new(
            0.7 + 0.3 * math.sin(t),
            0.7 + 0.3 * math.sin(t + 2),
            0.7 + 0.3 * math.sin(t + 4)
        )
    end
end)()

-- å³ä¸Šè§’ä¼˜é›…Xå…³é—­æŒ‰é’®
local CloseBtn = Instance.new("TextButton")
CloseBtn.Name = "CloseButton"
CloseBtn.Size = UDim2.new(0, 32, 0, 32)
CloseBtn.Position = UDim2.new(1, -36, 0, 0)
CloseBtn.BackgroundColor3 = Color3.fromRGB(90, 110, 180) -- è“ç´«è‰²ï¼Œä¸UIåè°ƒ
CloseBtn.Text = "X"
CloseBtn.Font = Enum.Font.GothamBold
CloseBtn.TextSize = 18
CloseBtn.TextColor3 = Color3.new(1, 1, 1)
CloseBtn.Parent = TopBar
local closeCorner = Instance.new("UICorner", CloseBtn)
closeCorner.CornerRadius = UDim.new(0, 8)

CloseBtn.MouseEnter:Connect(function()
    CloseBtn.BackgroundColor3 = Color3.fromRGB(60, 80, 150) -- æ‚¬åœæ›´æ·±
end)
CloseBtn.MouseLeave:Connect(function()
    CloseBtn.BackgroundColor3 = Color3.fromRGB(90, 110, 180)
end)
CloseBtn.MouseButton1Click:Connect(function()
    Main:Destroy()
end)

-- å·¦ä¾§å¯¼èˆªæ 
local Sidebar = Instance.new("Frame")
Sidebar.Size = UDim2.new(0, 100, 1, -32)
Sidebar.Position = UDim2.new(0, 0, 0, 32)
Sidebar.BackgroundColor3 = Color3.fromRGB(45, 45, 55)
Sidebar.BackgroundTransparency = 0.2
Sidebar.BorderSizePixel = 0
Sidebar.Parent = Frame

-- åˆ›å»ºé¡µç­¾æŒ‰é’®
local TabBtns = {}
local function createTab(name, order)
    local btn = Instance.new("TextButton")
    btn.Name = "Tab_"..name
    btn.Size = UDim2.new(0.9, 0, 0, 30)
    btn.Position = UDim2.new(0.05, 0, 0, (order-1)*36 + 8)
    btn.BackgroundColor3 = Color3.fromRGB(65, 65, 85)
    btn.TextColor3 = Color3.fromRGB(220, 220, 255)
    btn.Font = Enum.Font.GothamMedium
    btn.Text = name
    btn.TextSize = 12
    btn.AutoButtonColor = false
    btn.Parent = Sidebar
    local btnCorner = Instance.new("UICorner")
    btnCorner.CornerRadius = UDim.new(0, 6)
    btnCorner.Parent = btn
    btn.MouseEnter:Connect(function()
        btn.BackgroundColor3 = Color3.fromRGB(85, 85, 105)
    end)
    btn.MouseLeave:Connect(function()
        btn.BackgroundColor3 = Color3.fromRGB(65, 65, 85)
    end)
    TabBtns[name..order] = btn
    return btn
end

-- åˆ›å»ºé¡µç­¾
local infoTab = createTab("ä¸»é¡µ", 1)
local func1Tab = createTab("æ£®æ—å­˜æ´»99å¤œ", 2)
local func2Tab = createTab("å·èµ°è„‘çº¢", 3)
local func3Tab = createTab("åŠŸèƒ½3", 4)

-- ä¸»å†…å®¹åŒºåŸŸ
local ContentFrame = Instance.new("Frame")
ContentFrame.Size = UDim2.new(1, -100, 1, -32)
ContentFrame.Position = UDim2.new(0, 100, 0, 32)
ContentFrame.BackgroundTransparency = 1
ContentFrame.Parent = Frame

-- ä¿¡æ¯é¡µ
local InfoPage = Instance.new("Frame")
InfoPage.Size = UDim2.new(1, 0, 1, 0)
InfoPage.BackgroundTransparency = 1
InfoPage.Visible = true
InfoPage.Parent = ContentFrame

-- æ¬¢è¿ä¿¡æ¯
local Welcome = Instance.new("TextLabel")
Welcome.Size = UDim2.new(1, -20, 0, 40)
Welcome.Position = UDim2.new(0, 10, 0, 10)
Welcome.Text = "æ¬¢è¿ä½¿ç”¨wowåŠ è½½å™¨ğŸ˜"
Welcome.TextColor3 = Color3.fromRGB(200, 200, 255)
Welcome.TextSize = 24
Welcome.Font = Enum.Font.GothamBold
Welcome.BackgroundTransparency = 1
Welcome.Parent = InfoPage

-- å®æ—¶æ—¶é—´
local TimeLabel = Instance.new("TextLabel")
TimeLabel.Size = UDim2.new(1, -20, 0, 30)
TimeLabel.Position = UDim2.new(0, 10, 0, 50)
TimeLabel.Text = os.date("%Y-%m-%d %H:%M:%S")
TimeLabel.TextColor3 = Color3.fromRGB(180, 180, 220)
TimeLabel.TextSize = 16
TimeLabel.Font = Enum.Font.Gotham
TimeLabel.BackgroundTransparency = 1
TimeLabel.Parent = InfoPage

coroutine.wrap(function()
    while task.wait(1) do
        TimeLabel.Text = os.date("%Y-%m-%d %H:%M:%S")
    end
end)()

-- è”ç³»ä¿¡æ¯
local ContactLabel = Instance.new("TextLabel")
ContactLabel.Size = UDim2.new(1, -20, 0, 80)
ContactLabel.Position = UDim2.new(0, 10, 0, 90)
ContactLabel.Text = "QQç¾¤: 962873051\n Uiæœ‰ç‚¹å·®åˆ«ä»‹æ„ä½†ä¼šç»å¸¸æ›´æ–°\nä¸Šæ¬¡æ›´æ–°æ—¶é—´: 2025å¹´8æœˆ16æ—¥"
ContactLabel.TextColor3 = Color3.fromRGB(170, 170, 200)
ContactLabel.TextSize = 14
ContactLabel.Font = Enum.Font.Gotham
ContactLabel.TextYAlignment = Enum.TextYAlignment.Top
ContactLabel.BackgroundTransparency = 1
ContactLabel.Parent = InfoPage

-- åŠŸèƒ½é¡µï¼ˆç©ºå†…å®¹ï¼‰
local function createEmptyFeaturePage()
    local FeaturePage = Instance.new("ScrollingFrame")
    FeaturePage.Size = UDim2.new(1, 0, 1, 0)
    FeaturePage.BackgroundTransparency = 1
    FeaturePage.ScrollBarThickness = 6
    FeaturePage.Visible = false
    FeaturePage.Parent = ContentFrame
    return FeaturePage
end
local FeaturePage1 = createEmptyFeaturePage()
local FeaturePage2 = createEmptyFeaturePage()
local FeaturePage3 = createEmptyFeaturePage()

-- ========== åŠŸèƒ½1é¡µæ·»åŠ è„šæœ¬æŒ‰é’® ==========
local script1Url = "https://raw.githubusercontent.com/Kenniel123/99-Nights-in-the-Forest/refs/heads/main/99%20Nights%20in%20the%20Forest"   -- åªå†™é“¾æ¥ï¼Œä¸è¦å†™loadstring
local btn1 = Instance.new("TextButton", FeaturePage1)
btn1.Size = UDim2.new(0, 160, 0, 36)
btn1.Position = UDim2.new(0, 24, 0, 24)
btn1.BackgroundColor3 = Color3.fromRGB(80, 100, 180)
btn1.Text = "è€å¤–è„šæœ¬ä¸ç”¨è§£å¡"
btn1.Font = Enum.Font.GothamBold
btn1.TextSize = 14
btn1.TextColor3 = Color3.new(1, 1, 1)
local corner = Instance.new("UICorner", btn1)
corner.CornerRadius = UDim.new(0, 8)
btn1.MouseButton1Click:Connect(function()
    loadstring(game:HttpGet(script1Url))()
end)

local script2Url = "https://raw.githubusercontent.com/kedd063/KdmlScripts/refs/heads/main/SkyBaseMakerV1.lua"
local btn2 = Instance.new("TextButton", FeaturePage1)
btn2.Size = UDim2.new(0, 160, 0, 36)
btn2.Position = UDim2.new(0, 24, 0, 72)  -- 24+36+12ï¼ˆè¡Œè·å¤§ä¸€ç‚¹é˜²æ­¢é‡å ï¼‰
btn2.BackgroundColor3 = Color3.fromRGB(100, 120, 200)
btn2.Text = "ç©ºä¸­å®¶å…·è¦è§£å¡"
btn2.Font = Enum.Font.GothamBold
btn2.TextSize = 14
btn2.TextColor3 = Color3.new(1, 1, 1)
local corner2 = Instance.new("UICorner", btn2)
corner2.CornerRadius = UDim.new(0, 8)
btn2.MouseButton1Click:Connect(function()
    loadstring(game:HttpGet(script2Url))()
end)

-- ç¬¬ä¸‰ä¸ªæŒ‰é’®
local script3Url = "https://raw.githubusercontent.com/H4xScripts/Loader/refs/heads/main/loader.lua", true"
local btn3 = Instance.new("TextButton", FeaturePage1)
btn3.Size = UDim2.new(0, 160, 3-1)*48 = 120
btn3.BackgroundColor3 = Color3.fromRGB(120, 140, 220)
btn3.Text = "è¦è§£å¡å¯†"
btn3.Font = Enum.Font.GothamBold
btn3.TextSize = 14
btn3.TextColor3 = Color3.new(1, 1, 1)
local corner3 = Instance.new("UICorner", btn3)
corner3.CornerRadius = UDim.new(0, 8)
btn3.MouseButton1Click:Connect(function()
    loadstring(game:HttpGet(script3Url))()
end)



-- ========== ä½ å¯ä»¥å¤åˆ¶ä¸Šé¢å‡ è¡Œå†åŠ æ›´å¤šæŒ‰é’®ï¼Œæ”¹å/æ”¹é“¾æ¥/æ”¹Yåæ ‡å³å¯ ==========

local pages = {
    [infoTab] = InfoPage,
    [func1Tab] = FeaturePage1,
    [func2Tab] = FeaturePage2,
    [func3Tab] = FeaturePage3
}
for _, btn in pairs(TabBtns) do
    btn.MouseButton1Click:Connect(function()
        InfoPage.Visible = false
        FeaturePage1.Visible = false
        FeaturePage2.Visible = false
        FeaturePage3.Visible = false
        if pages[btn] then
            pages[btn].Visible = true
        end
    end)
end

-- ===== å¯æ‹–åŠ¨çš„è¿·ä½ å¼€å…³æŒ‰é’® =====
local ToggleBtn = Instance.new("TextButton")
ToggleBtn.Name = "ToggleButton"
ToggleBtn.Size = UDim2.new(0, 80, 0, 30)
ToggleBtn.Position = UDim2.new(0, 20, 0, 20)
ToggleBtn.Text = "æ‰“å¼€è„šæœ¬"
ToggleBtn.Font = Enum.Font.GothamBold
ToggleBtn.TextSize = 12
ToggleBtn.BackgroundColor3 = Color3.fromRGB(80, 100, 180)
ToggleBtn.TextColor3 = Color3.new(1, 1, 1)
ToggleBtn.Parent = Main

local ToggleCorner = Instance.new("UICorner")
ToggleCorner.CornerRadius = UDim.new(0, 8)
ToggleCorner.Parent = ToggleBtn

-- æ‹–åŠ¨é€»è¾‘
local btnDragging, btnDragStart, btnStartPos
local function handleDrag(input)
    if input.UserInputType == Enum.UserInputType.Touch or input.UserInputType == Enum.UserInputType.MouseButton1 then
        btnDragging = true
        btnDragStart = input.Position
        btnStartPos = ToggleBtn.Position
        local conn
        conn = input.Changed:Connect(function()
            if input.UserInputState == Enum.UserInputState.End then
                btnDragging = false
                if conn then conn:Disconnect() end
            end
        end)
    end
end
ToggleBtn.InputBegan:Connect(function(input)
    if input.UserInputType == Enum.UserInputType.MouseButton1 or input.UserInputType == Enum.UserInputType.Touch then
        local startTime = tick()
        local startPos = input.Position
        local dragCheck
        dragCheck = game:GetService("RunService").Heartbeat:Connect(function()
            if tick() - startTime > 0.1 then
                dragCheck:Disconnect()
                if (input.Position - startPos).Magnitude > 5 then
                    handleDrag(input)
                end
            end
        end)
    end
end)
UIS.InputChanged:Connect(function(input)
    if btnDragging and (input.UserInputType == Enum.UserInputType.MouseMovement or input.UserInputType == Enum.UserInputType.Touch) then
        local delta = input.Position - btnDragStart
        ToggleBtn.Position = btnStartPos + UDim2.new(0, delta.X, 0, delta.Y)
    end
end)

-- ä¸»çª—å£æ‹–åŠ¨é€»è¾‘
local frameDragging, frameDragStart, frameStartPos
TopBar.InputBegan:Connect(function(input)
    if input.UserInputType == Enum.UserInputType.MouseButton1 or input.UserInputType == Enum.UserInputType.Touch then
        local startTime = tick()
        local startPos = input.Position
        local dragCheck
        dragCheck = game:GetService("RunService").Heartbeat:Connect(function()
            if tick() - startTime > 0.1 then
                dragCheck:Disconnect()
                if (input.Position - startPos).Magnitude > 5 then
                    frameDragging = true
                    frameDragStart = input.Position
                    frameStartPos = Frame.Position
                    local conn
                    conn = input.Changed:Connect(function()
                        if input.UserInputState == Enum.UserInputState.End then
                            frameDragging = false
                            if conn then conn:Disconnect() end
                        end
                    end)
                end
            end
        end)
    end
end)
UIS.InputChanged:Connect(function(input)
    if frameDragging and (input.UserInputType == Enum.UserInputType.MouseMovement or input.UserInputType == Enum.UserInputType.Touch) then
        local delta = input.Position - frameDragStart
        Frame.Position = frameStartPos + UDim2.new(0, delta.X, 0, delta.Y)
    end
end)

-- åˆ‡æ¢æ˜¾ç¤º/éšè—
ToggleBtn.MouseButton1Click:Connect(function()
    Frame.Visible = not Frame.Visible
    ToggleBtn.Text = Frame.Visible and "å…³é—­è„šæœ¬" or "æ‰“å¼€è„šæœ¬"
end)

-- åˆå§‹æ˜¾ç¤ºä¿¡æ¯é¡µ
InfoPage.Visible = true
FeaturePage1.Visible = false
FeaturePage2.Visible = false
FeaturePage3.Visible = false

print("Chmaoè„šæœ¬ä¸­å¿ƒUI(å‡€ç‰ˆ)å·²åŠ è½½ï¼")